(this["webpackJsonpinfinite-gallery"]=this["webpackJsonpinfinite-gallery"]||[]).push([[0],{12:function(e,t,c){},13:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),o=c(7),s=c.n(o),i=(c(12),c(5)),a=c(3),u=(c(13),c(17)),l=c(0);function j(){var e=Object(n.useState)([[],[],[]]),t=Object(a.a)(e,2),c=t[0],r=t[1],o=Object(n.useState)(1),s=Object(a.a)(o,2),j=s[0],f=s[1],h=Object(n.useState)("random"),b=Object(a.a)(h,2),d=b[0],O=b[1],p=Object(n.useState)(!0),m=Object(a.a)(p,2),v=m[0],g=m[1];console.log(c),Object(n.useEffect)((function(){fetch("https://api.unsplash.com/search/photos?page=".concat(j,"&per_page=30&query=").concat(d,"&client_id=YM-c-fclit9UkTTgUdqSA5K66UKtoqoTuWJ8JmfNL3Q")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[];e.results.forEach((function(e){t.push(e.urls.regular)}));for(var n=[Object(i.a)(c[0]),Object(i.a)(c[1]),Object(i.a)(c[2])],o=0,s=0;s<3;s++)for(var a=0;a<10;a++)n[s].push(t[o]),o++;r(n),g(!1)}))}),[j]);Object(n.useEffect)((function(){v||x()}),[d]);var x=function(){fetch("https://api.unsplash.com/search/photos?page=".concat(j,"&per_page=30&query=").concat(d,"&client_id=YM-c-fclit9UkTTgUdqSA5K66UKtoqoTuWJ8JmfNL3Q")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[];e.results.forEach((function(e){t.push(e.urls.regular)}));for(var c=[[],[],[]],n=0,o=0;o<3;o++)for(var s=0;s<10;s++)c[o].push(t[n]),n++;r(c)}))},E=Object(n.useRef)(),S=function(){console.log("hello infinitecheck");var e=document.documentElement,t=e.scrollTop,c=e.scrollHeight,n=e.clientHeight;Math.abs(c-n-t)<1&&(console.log("tu as touch\xe9 le fond!"),f((function(e){return e+1})))};return Object(n.useEffect)((function(){return window.addEventListener("scroll",S),function(){window.removeEventListener("scroll",S)}}),[]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O(E.current.value),f(1)},children:[Object(l.jsx)("label",{htmlFor:"search",children:"Votre recherche"}),Object(l.jsx)("input",{type:"text",id:"search",ref:E})]}),Object(l.jsxs)("div",{className:"card-list",children:[Object(l.jsx)("div",{children:c[0].map((function(e){return Object(l.jsx)("img",{src:e,alt:""},Object(u.a)())}))}),Object(l.jsx)("div",{children:c[1].map((function(e){return Object(l.jsx)("img",{src:e,alt:""},Object(u.a)())}))}),Object(l.jsx)("div",{children:c[2].map((function(e){return Object(l.jsx)("img",{src:e,alt:""},Object(u.a)())}))})]})]})}var f=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(j,{})})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.29ba1203.chunk.js.map